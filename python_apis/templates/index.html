{% extends "layout.html" %}          
{% block content %}

<style>
.zoom {
  padding: 50px;
  transition: transform .2s;
  width: 250px;
  height: 250px;
  margin: 0 auto;
}
.zoom:hover {
  -ms-transform: scale(1.5); /* IE 9 */
  -webkit-transform: scale(1.5); /* Safari 3-8 */
  transform: scale(1.5); 
}
</style>
		<script>		    (function(e, t, n) { var r = e.querySelectorAll("html")[0]; r.className = r.className.replace(/(^|\s)no-js(\s|$)/, "$1js$2") })(document, window, 0);</script>
        
            <form id="form1" action="#" method="POST" enctype="multipart/form-data" >
               <input name="__RequestVerificationToken" type="hidden" value="bMW_tityPOKIzC54WAGkMhiEG8yGxeEphniiIdsYYXslIBNyL9PSP85XXRGzgwHYiBMSp97Ha451uR4wXwOXILefes6xH6K0bcLIDziJCyc1">   
               <div class="form-horizontal">
                  <hr>
                  <div class="row">
                        <div class="col-md-6">
                           
                           
                       
                           
                           <div class="input-group"><i class="material-icons prefix">account_circle</i>
                              <input id="searchby" maxlength="16" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="Search By LanId..."  name="lanid"  id="custId" aria-label="LANID search." aria-describedby="basic-addon2" type="text" style="margin:0px auto;width:300px;" value="{{lanid}}">
                              <i class="material-icons">search</i><input type="submit" id="search_lanid" name="submit" class="btn btn-primary" value="Search">
                              &nbsp <button type="button" class="btn btn-primary" onclick="viewimages()"> View </button>
                           </div>
                                                      
                           <br>     
                           <div class="input-group"> 
                              <b><label class="label">CUSTID&nbsp&nbsp &nbsp  &nbsp &nbsp  &nbsp : &nbsp&nbsp  &nbsp&nbsp</label></b> <label id="custid_label" > </label>
                               <input id="Text1"  type="hidden" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="CustId..."  name="custId_text"  id="custId_text" >
                           </div>
                            <div class="input-group"> 
                              <b><label class="label">CUST Name&nbsp  &nbsp : &nbsp &nbsp &nbsp</label></b> <label id="custname_label" > </label>
                               <input id="Text5"  type="hidden" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="Cust Name..."  name="custname_text"  id="custname_text" >
                           </div>
                           <div class="input-group"> 
                              <b><label class="label">State&nbsp  &nbsp &nbsp  &nbsp  &nbsp  &nbsp &nbsp :   &nbsp &nbsp &nbsp</label></b> <label id="state_label" > </label>
                           <input id="Text2"  type="hidden" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="State..."  name="state_text"  id="state_text" >
                          
                           </div>
                           <div class="input-group"> 
                              <b><label class="label">Branch&nbsp &nbsp  &nbsp &nbsp  &nbsp  &nbsp :   &nbsp &nbsp &nbsp</label></b> <label id="branch_label" > </label>
                           <input id="Text3"  type="hidden" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="Branch..."  name="branch_text"  id="branch_text" >
                          
                           </div> <input id="Text4" type="hidden" class="typeahead form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="ctrl.filter" placeholder="Lanid..."  name="lanid_text"  id="lanid_text" >
                           
                        </div>
                     </div>
                  </div>
                  <br><!-- container --><hr style="border: 1px dashed black;" />
                  <div class="upload_images_div">
                   <div class="row" style="border:1px solid grey">
                     <div class="col-md-6 border">   <b>&nbsp;&nbsp;App_form: </b>
                          <div class="box">                                <div  class="zoom">                                    <img  id="App_form_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
                                <div   style="margin-left: 15% !important" >
					            <input  onchange="readURL(this,'#App_form_img');" type="file" name="App_form[]"  id="App_form" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)"   />                                <label for="App_form"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>App form  Upload &hellip;</span></label>                          </div> </div> 
                     </div><br />
                     <div class="col-md-6">  <b>&nbsp;&nbsp;Internal Valuation Report  Upload: </b>
                         <div class="box">
					            <div  class="zoom">                                    <img id="IVR_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
                                <div   style="margin-left: 15% !important" >
					                <input  onchange="readURL(this,'#IVR_img');" type="file" name="IVR[]" id="IVR" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="IVR"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>Internal Valuation Report  Upload &hellip;</span></label>
					       </div> </div> 
                     </div><br />
                  </div>
                  <div class="row" style="border:1px solid grey"> 
                     <div class="col-md-6 border">   <b>&nbsp;&nbsp;KYC: </b>
                           <div class="box">
					            <div  class="zoom">                                    <img id="KYC_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					        <div   style="margin-left: 15% !important" >
					            <input required oninvalid="M.toast({ html: 'Please upload the KYC document.', classes: 'rounded' });" oninput="this.setCustomValidity('')"  onchange="readURL(this,'#KYC_img');" type="file" name="KYC[]" id="KYC" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="KYC"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>KYC Upload &hellip;</span></label>
					       </div> </div> 
                     </div><br />
                     </div>
                  <div class="row"  style="border:1px solid grey">
                     <div class="col-md-6 border">  <b>&nbsp;&nbsp;GPC (Front - Branch Copy): </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GPCFB_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					        <div   style="margin-left: 15% !important" >
					            <input  onchange="readURL(this,'#GPCFB_img');" type="file" name="GPCFB[]" id="GPCFB" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GPCFB"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GPC (Front - Branch Copy)  Upload &hellip;</span></label>
					       </div> </div> 
                     </div><br />
                      <div class="col-md-6"> <b>&nbsp;&nbsp;GPC (Back - Branch Copy): </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GPCBB_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					        <div   style="margin-left: 15% !important" >
					            <input  onchange="readURL(this,'#GPCBB_img');"  type="file" name="GPCBB[]" id="GPCBB" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GPCBB"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GPC (Back - Branch Copy)   Upload &hellip;</span></label>
					       </div> </div> 
                     </div><br />
                     <div class="col-md-6 border"> <b>&nbsp;&nbsp;GPC (Front - Customer Copy) : </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GPCFC_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					        <div   style="margin-left: 15% !important" >
					            <input  onchange="readURL(this,'#GPCFC_img');" type="file" name="GPCFC[]" id="GPCFC" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GPCFC"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GPC (Front - Customer Copy)   Upload &hellip;</span></label>
					       </div> </div> 
                     </div><br />
                      <div class="col-md-6"><b>&nbsp;&nbsp;GPC (Back - Customer Copy) : </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GPCBC_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					        <div   style="margin-left: 15% !important" >
					            <input  onchange="readURL(this,'#GPCBC_img');" type="file" name="GPCBC[]" id="GPCBC" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GPCBC"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GPC (Back - Customer Copy)   Upload &hellip;</span></label>
					     </div> </div> 
                     </div><br />
                  </div>
                  <div class="row" style="border:1px solid grey">
                     <div class="col-md-6 border"><b>&nbsp;&nbsp;GRC (Front)  : </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GRCF_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
                                <div   style="margin-left: 15% !important" >
					        <input  onchange="readURL(this,'#GRCF_img');" type="file" name="GRCF[]" id="GRCF" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GRCF"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GRC (Front)  Upload&hellip;</span></label>
					      </div> 
					       </div> 
                     </div><br />
                     <div class="col-md-6"><b>&nbsp;&nbsp;GRC (Back)   : </b>
                         <div class="box">
                                <div  class="zoom">                                    <img id="GRCB_img" src="{{ url_for('static', filename='icon-camera.png') }}" alt="Upload image" />                                </div><br /><br />
					            <div   style="margin-left: 15% !important" >
					            <input onchange="readURL(this,'#GRCB_img');" type="file" name="GRCB[]" id="GRCB" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" data-max-size="32154" multiple='' pattern=".+\.(pdf|jpeg|png)" />
					            <label for="GRCB"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>GRC (Back)  Upload &hellip;</span></label>
					       </div>
					       </div> 
                     </div><br />
                  </div>
                 
                  <div class="row">
                      <div class="col-md-3">
                            <div class="input-group">    </p>
                            </div>
                         </div>
                  </div>       
        
				

		
                     <div class="col-md-6"  style="margin-left: 40%">
                        <div class="input-group" > <input type='submit' id="upload_images_btn" value='Submit'  class="btn btn-info inputfile-1">
                           </p>
                        </div>
                     </div>
               </div>
               </div>
            </form>
            {% endblock %}
             
{% block script %}
       
     <script>
         $(document).ready(function() {
             $(".label").css("color", "black");
             M.toast({ html: 'Please type LAN ID in search box.', classes: 'rounded' });
             disable_buttons();
             var login_type = getUrlVars()["type"];
             if (login_type != '1' && $("#search_lanid").val() != "Search") { // IF not audit
                 $(".inputfile-1").prop("disabled", false);
                 $(".upload_images_div").show();
             }
             if (login_type != '1') { // IF not audit
                 $(".upload_images_div").show();
             }
             if (login_type == '1') { // IF  audit
                 $(".upload_images_div").hide();
             }
             $("#search_lanid").click(function(e) {
                 e.preventDefault();
                 $.ajax(baseurl + 'custid_details', {
                     type: 'GET',  // http method
                     data: { lanid: $('#searchby').val() }, // data to submit
                     success: function(data, status, xhr) {
                         resp = JSON.parse(data);
                         $("#Text1").val(resp.CUSTID);
                         $("#Text2").val(resp.STATE);
                         $("#Text3").val(resp.Branch);
                         $("#Text4").val(resp.LANID);
                         $("#Text5").val(resp.CUSTNAME);


                         $("#custid_label").text(resp.CUSTID).css("color", "black");
                         $("#state_label").text(resp.STATE).css("color", "black");
                         $("#branch_label").text(resp.Branch).css("color", "black");
                         $("#lanid_label").text(resp.LANID).css("color", "black");
                         $("#custname_label").text(resp.CUSTNAME).css("color", "black");
                         $('#flash').append(flashMessage(resp));

                         hide_alerts(3500);
                         if (login_type == '1') {// IF  audit
                             disable_buttons();
                         }
                     },
                     error: function(jqXhr, textStatus, errorMessage) {
                         alert('Error' + errorMessage);
                     }
                 });
                 hide_alerts(3500);
             });
         });
        

         function hide_alerts(time) {

             window.setTimeout(function() {
                 $(".alert").fadeTo(1000, 0).slideUp(1000, function() {
                     $(this).remove();
                 });
             }, time);
         }
         var flashMessage = function(data) {

             if (data.type == "success") {
             //    $('.inputfile-1').removeAttr('disabled');

                 $(".inputfile-1").prop("disabled", false);
             }
             return M.toast({ html: resp.type + ": " + resp.message, classes: 'rounded' }); ;

         };

         function disable_buttons() {
             $(".inputfile-1").prop("disabled", true); 
         }
         function viewimages() {
             hide_alerts(10000);
             window.location.href = baseurl + "select_disbursal_images?lanid_text=" + document.getElementById("searchby").value;
         }
         function readURL   (input, id) {
             if (input.files && input.files[0]) {
                 var reader = new FileReader();

                 reader.onload = function(e) {
                 $(id)
                    .attr('src', e.target.result)
                    .width(150)
                    .height(200);
                 };

                 reader.readAsDataURL(input.files[0]);
             }
         }
         function getUrlVars() {
             var vars = {};
             var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
                 vars[key] = value;
             });
             return vars;
         }

       
      </script><script src="{{ url_for('static', filename='custom-file-input.js') }}"></script>
       
</html>
            {% endblock %}
